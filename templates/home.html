{% extends "base.html" %}

{% block body %}
<body class="centered">
    <br>
    <h1 class="centered"> Home </h1>
    <div class="homesearch centered">
        <p>------------</p>

        <form action="#" method="post">
            <input name="searchbar" type="text" autocomplete="off" placeholder="rock a numbah...">
            <input name="submit" type="submit">
        </form>

        {% if results and query %}
            <h3>Results for {{query}}:</h3>
        {% endif %}
        <div class="row">
            <div class="column">
                {% if results != None %}
                    {% for result in results %}
                    
                    {% include 'votebase.html' %}
                    
                    <a href="/viewconst/{{result._id}}">
                        <div class="numbox">
                            <div class="innernumbox">

                                <h3>{{result.name}}</h3>
                                <h3>{{result.num}}</h3>
                                <p>by {{result.creator}}</p>
                                <p>Sample Expression: {{result.ref}}</p>

                                <p><a href="{{ url_for('figvote', figid=result._id, action='like') }}">[VOTE]</a><a href="{{ url_for('figvote', figid=result._id, action='unlike') }}">[UNVOTE]</a></p>
                            </div>
                        </div>
                    </a>
                    <br>
                    <br>
                    {% endfor %}

                {% else %}

                    <p> Search something! </p>

                {% endif %}
            </div>
        </div>
    </div>
</body>

<script src="https://code.jquery.com/jquery-3.5.1.js"
          integrity="sha256-QWo7LDvxbWT2tbbQ97B53yJnYU3WhH/C8ycbRAkjPDc="
          crossorigin="anonymous">
</script>

{% endblock %}